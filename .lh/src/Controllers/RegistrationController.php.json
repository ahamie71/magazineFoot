{
    "sourceFile": "src/Controllers/RegistrationController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1687524568210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1687524568210,
            "name": "Commit-0",
            "content": "<?php\nnamespace Foot\\Controllers;\n\n\nuse Foot\\Entity\\User;\nuse Foot\\Model\\UserRepository;\n\nclass RegistrationController\n{\n    public function Register()\n    {\n        $error = '';\n        if (isset($_POST['username']) && isset($_POST['email']) && isset($_POST['password']) && isset($_POST['password2'])) {\n            $username = $_POST['username'];\n            $email = $_POST['email'];\n            $password = $_POST['password'];\n            $password2 = $_POST['password2'];\n            $admin = '1';\n            if ($password === $password2 && strlen($password) >= 6 && preg_match(\"/[a-z][0-9]/\", $password)) {\n                $pass = password_hash($_POST['password'], PASSWORD_ARGON2ID);\n                $userRepository = new UserRepository;\n                $user = new User();\n                $user = $userRepository->addUser($username, $pass, $email, $admin);\n                header('Location:index.php?action=Login');\n            } else {\n                $error = 'erreur';\n            }\n        } else {\n            require('./../src/View/RegistrationForm.php');\n        }\n    }\n}"
        }
    ]
}